syntax = "proto3";

package rpdb;

message WALEntry {
  enum OpType{
    BEGIN = 0;
    SET = 1;
    UNSET = 2;
    COMMIT = 3;
    ROLLBACK = 4;
  }

  int64 timestamp = 1;
  OpType op_type = 2;
  string key = 3;
  oneof value{
    string str_val = 4;
    int32 int32_val = 5;

  };
}

message WAL {
  repeated WALEntry entries = 1;
}
